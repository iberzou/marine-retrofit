 Marine Retrofit Management System

A comprehensive full-stack web application for managing marine vessel retrofit operations, built with FastAPI and React. This system provides complete project management capabilities for marine retrofit projects including task tracking, inventory management, blueprint handling, and reporting.

 ğŸŒŠ Features

 Core Functionality
- User Authentication & Authorization: Role-based access control (Admin, Project Manager, Engineer, Technician)
- Dashboard: Real-time statistics and project overview with role-specific views
- Project Management: Complete CRUD operations for retrofit projects
- Task Management: Task assignment, tracking, and status updates
- Inventory Control: Stock management with transaction tracking
- Blueprint Management: Upload and manage project blueprints and documents
- Report Generation: PDF reports for projects, tasks, inventory, and finances
- User Settings: Customizable user preferences and notifications

 Technical Features
- JWT-based authentication
- RESTful API architecture
- MySQL database with comprehensive schema
- File upload capabilities
- Role-based permissions
- Maritime-themed UI (Navy Blue and Sea Green color scheme)
- Responsive design

 ğŸ›  Tech Stack

 Backend
- FastAPI (0.104.1) - Modern Python web framework
- SQLAlchemy (2.0.23) - ORM for database operations
- PyMySQL (1.1.0) - MySQL database connector
- Python-JOSE - JWT token handling
- Passlib & Bcrypt - Password hashing
- ReportLab - PDF generation
- Uvicorn - ASGI server

 Frontend
- React (18.2.0) - UI library
- React Router DOM (6.20.0) - Client-side routing
- Axios (1.6.0) - HTTP client
- Recharts (2.10.0) - Data visualization
- React Icons - Icon library
- React Dropzone - File upload handling

 Database
- MySQL - Relational database management system

 ğŸ“‹ Prerequisites

Before you begin, ensure you have the following installed:

- Python 3.8 or higher
- Node.js 14.x or higher and npm
- MySQL 5.7 or higher
- Git (for cloning the repository)

 ğŸš€ Installation
 1. Database Setup

 Start MySQL and create the database:

bash
mysql -u root -p


Enter your MySQL password when prompted, then execute:

sql
DROP DATABASE IF EXISTS marine_retrofit;
CREATE DATABASE marine_retrofit;
USE marine_retrofit;


 Import the schema:

sql
SOURCE database/schema.sql;


 Verify the tables were created:

sql
SHOW TABLES;


Expected output:

+---------------------------+
| Tables_in_marine_retrofit |
+---------------------------+
| blueprints                |
| generated_reports         |
| inventory                 |
| project_assignments       |
| projects                  |
| report_templates          |
| stock_transactions        |
| tasks                     |
| user_settings             |
| users                     |
+---------------------------+


Exit MySQL:
sql
EXIT;


 2. Backend Setup

Navigate to the backend directory:

bash
cd backend


 Create a virtual environment:

On macOS/Linux:
bash
python3 -m venv venv
source venv/bin/activate


On Windows:
bash
python -m venv venv
venv\Scripts\activate


 Install Python dependencies:

bash
pip install -r requirements.txt


 Configure environment variables:

Create a `.env` file in the `backend` directory:

bash
cp .env.example .env


Edit the `.env` file and update with your settings:

env
DATABASE_URL=mysql+pymysql://root:YOUR_PASSWORD@localhost:3306/marine_retrofit
SECRET_KEY=your-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30


Important: Replace `YOUR_PASSWORD` with your actual MySQL root password.

 3. Frontend Setup

Navigate to the frontend directory:

bash
cd ../frontend


 Install Node.js dependencies:

bash
npm install


 ğŸ¯ Running the Application

 Start the Backend Server

From the `backend` directory:

bash
uvicorn app.main:app --reload


The backend API will be available at: `http://localhost:8000`

API Documentation (Swagger UI): `http://localhost:8000/docs`

 Start the Frontend Development Server

Open a new terminal, navigate to the `frontend` directory, and run:

bash
npm start


The frontend application will be available at: `http://localhost:3000`

The application will automatically open in your default browser.

 ğŸ“ Project Structure


marine-retrofit/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ routers/           API route handlers
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py        Authentication endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ projects.py    Project management
â”‚   â”‚   â”‚   â”œâ”€â”€ tasks.py       Task management
â”‚   â”‚   â”‚   â”œâ”€â”€ inventory.py   Inventory operations
â”‚   â”‚   â”‚   â”œâ”€â”€ blueprints.py  Blueprint uploads
â”‚   â”‚   â”‚   â”œâ”€â”€ reports.py     Report generation
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.py   Dashboard statistics
â”‚   â”‚   â”‚   â””â”€â”€ settings.py    User settings
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py            Authentication utilities
â”‚   â”‚   â”œâ”€â”€ database.py        Database connection
â”‚   â”‚   â”œâ”€â”€ main.py            FastAPI application
â”‚   â”‚   â”œâ”€â”€ models.py          SQLAlchemy models
â”‚   â”‚   â””â”€â”€ schemas.py         Pydantic schemas
â”‚   â”œâ”€â”€ uploads/               File storage
â”‚   â”‚   â”œâ”€â”€ blueprints/        Blueprint files
â”‚   â”‚   â””â”€â”€ reports/           Generated reports
â”‚   â”œâ”€â”€ .env                   Environment variables
â”‚   â”œâ”€â”€ .env.example           Environment template
â”‚   â””â”€â”€ requirements.txt       Python dependencies
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html         HTML template
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        React components
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.js
â”‚   â”‚   â”‚   â”œâ”€â”€ projects.js
â”‚   â”‚   â”‚   â”œâ”€â”€ tasks.js
â”‚   â”‚   â”‚   â”œâ”€â”€ login.js
â”‚   â”‚   â”‚   â”œâ”€â”€ navbar.js
â”‚   â”‚   â”‚   â”œâ”€â”€ blueprints.js
â”‚   â”‚   â”‚   â”œâ”€â”€ reports.js
â”‚   â”‚   â”‚   â””â”€â”€ settings.js
â”‚   â”‚   â”œâ”€â”€ pages/             Page components
â”‚   â”‚   â”œâ”€â”€ styles/            CSS stylesheets
â”‚   â”‚   â”œâ”€â”€ utils/             Utility functions
â”‚   â”‚   â”œâ”€â”€ api.js             API client
â”‚   â”‚   â”œâ”€â”€ app.js             Main App component
â”‚   â”‚   â””â”€â”€ index.js           Entry point
â”‚   â”œâ”€â”€ package.json           Node dependencies
â”‚   â””â”€â”€ package-lock.json
â”œâ”€â”€ database/
â”‚   â””â”€â”€ schema.sql             Database schema
â””â”€â”€ README.md                  This file


 ğŸ—„ Database Schema

The system uses 10 main tables:

1. users - User accounts and authentication
2. projects - Retrofit project information
3. project_assignments - Links users to projects
4. tasks - Project tasks and maintenance items
5. inventory - Parts and materials inventory
6. stock_transactions - Inventory transaction history
7. blueprints - Project documents and blueprints
8. user_settings - User preferences
9. report_templates - Report configuration
10. generated_reports - Report generation history

 ğŸ­ User Roles

The system supports four user roles with different permissions:

1. Admin - Full system access and user management
2. Project Manager - Project creation, management, and team assignments
3. Engineer - Task management, blueprint access, and reporting
4. Technician - Task execution and inventory management

 ğŸ“¡ API Endpoints

 Authentication
- `POST /api/auth/login` - User login
- `POST /api/auth/register` - User registration
- `GET /api/auth/me` - Get current user

 Projects
- `GET /api/projects/` - List all projects
- `POST /api/projects/` - Create new project
- `GET /api/projects/{id}` - Get project details
- `PUT /api/projects/{id}` - Update project
- `DELETE /api/projects/{id}` - Delete project

 Tasks
- `GET /api/tasks/` - List all tasks
- `POST /api/tasks/` - Create new task
- `GET /api/tasks/{id}` - Get task details
- `PUT /api/tasks/{id}` - Update task
- `DELETE /api/tasks/{id}` - Delete task

 Inventory
- `GET /api/inventory/` - List inventory items
- `POST /api/inventory/` - Add inventory item
- `PUT /api/inventory/{id}` - Update item
- `DELETE /api/inventory/{id}` - Remove item
- `POST /api/inventory/transaction` - Record transaction

 Blueprints
- `GET /api/blueprints/project/{project_id}` - Get project blueprints
- `POST /api/blueprints/upload` - Upload blueprint
- `DELETE /api/blueprints/{id}` - Delete blueprint

 Reports
- `POST /api/reports/generate` - Generate PDF report
- `GET /api/reports/` - List generated reports

 Dashboard
- `GET /api/dashboard/stats` - Get dashboard statistics


 ğŸ”§ Troubleshooting

 Common Issues

 Database Connection Error

Error: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server")

Solution: Ensure MySQL is running and credentials in `.env` are correct.

 Port Already in Use

Error: [Errno 48] Address already in use

Solution: 
- Backend: Change port in uvicorn command: `uvicorn app.main:app --reload --port 8001`
- Frontend: Set PORT in package.json or use `PORT=3001 npm start`

 Module Not Found

ModuleNotFoundError: No module named 'fastapi'

Solution: Ensure virtual environment is activated and dependencies are installed:
bash
source venv/bin/activate   On macOS/Linux
pip install -r requirements.txt


 React Not Starting

npm ERR! missing script: start

Solution: Ensure you're in the frontend directory and node_modules is installed:
bash
cd frontend
npm install
npm start


 ğŸ”„ Testing
Access the API documentation at `http://localhost:8000/docs` to test endpoints interactively.

 ğŸ“Š Features in Detail

 Dashboard
- Real-time project statistics
- Task completion metrics
- Inventory alerts
- Budget tracking
- Role-based data filtering

 Project Management
- Create and manage retrofit projects
- Track vessel information
- Budget and spending monitoring
- Status tracking
- Team assignments

 Task Management
- Priority-based task organization
- Due date tracking
- Assignment to team members
- Status updates (Pending, In Progress, Completed, Blocked)
- Maintenance task flagging

 Inventory Control
- Stock level monitoring
- Reorder level alerts
- Transaction history
- Supplier management
- Location tracking

 Blueprint Management
- Multi-format file upload (PDF, PNG, etc.)
- Version control
- Project association
- Preview capabilities

 Reports
- Project overview reports
- Task completion reports
- Inventory status reports
- Financial reports
- Custom date range filtering
- PDF export

 ğŸ“ Additional Notes

- The system uses JWT tokens for authentication (30-minute expiration by default)
- File uploads are stored in `backend/uploads/`
- Reports are generated in PDF format
- The UI theme uses maritime colors (Navy Blue 1e3a8a and Sea Green 059669)



