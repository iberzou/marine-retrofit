{"ast":null,"code":"var _jsxFileName = \"/Users/ilhem/Documents/INEW 2332 Comprehensive Software Project/marine-retrofit/frontend/src/components/dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { projectsAPI, tasksAPI, inventoryAPI } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000/api';\nfunction Dashboard() {\n  _s();\n  const navigate = useNavigate();\n  const [stats, setStats] = useState({});\n  const user = (() => {\n    try {\n      return JSON.parse(localStorage.getItem('user'));\n    } catch {\n      return null;\n    }\n  })();\n  const computeScopedStats = (allProjects, allTasks, user) => {\n    if (!user) return {\n      total_projects: 0,\n      total_tasks: 0,\n      completed_tasks: 0\n    };\n    const uid = user.user_id;\n    const role = user.role;\n    const assignedList = p => {\n      // Normalize to an array of numeric user_ids\n      const raw = Array.isArray(p.assigned_users) ? p.assigned_users : Array.isArray(p.assigned_user_ids) ? p.assigned_user_ids : [];\n      return raw.map(x => {\n        if (typeof x === 'number') return x;\n        if (typeof x === 'string') {\n          const n = parseInt(x, 10);\n          return Number.isNaN(n) ? x : n;\n        }\n        // object form { user_id, ... }\n        if (x && typeof x === 'object' && 'user_id' in x) return x.user_id;\n        return x;\n      }).filter(v => typeof v === 'number');\n    };\n    let projectIds = [];\n    if (role === 'technician' || role === 'engineer') {\n      projectIds = (allProjects || []).filter(p => assignedList(p).includes(uid)).map(p => p.project_id);\n    } else if (role === 'project_manager') {\n      projectIds = (allProjects || []).filter(p => p.created_by === uid).map(p => p.project_id);\n    } else {\n      // admin sees all\n      projectIds = (allProjects || []).map(p => p.project_id);\n    }\n    const tasksInScope = (allTasks || []).filter(t => projectIds.includes(t.project_id));\n    let myTasks = tasksInScope;\n    if (role === 'technician' || role === 'engineer') {\n      myTasks = tasksInScope.filter(t => t.assigned_to === uid);\n    }\n    const completed = myTasks.filter(t => String(t.status || '').toLowerCase() === 'completed').length;\n    const pending = myTasks.filter(t => String(t.status || '').toLowerCase() !== 'completed').length;\n    const totalProjects = Array.from(new Set(projectIds)).length;\n    return {\n      total_projects: totalProjects,\n      total_tasks: pending,\n      completed_tasks: completed\n    };\n  };\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login', {\n        replace: true\n      });\n    }\n  }, [navigate]);\n  const fetchStats = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        navigate('/login', {\n          replace: true\n        });\n        return;\n      }\n      if (user && (user.role === 'technician' || user.role === 'engineer' || user.role === 'project_manager')) {\n        var _lowStockRes$data$cou, _lowStockRes$data;\n        const [projectsRes, tasksRes, lowStockRes] = await Promise.all([projectsAPI.getAll(), tasksAPI.getAll(), inventoryAPI.getLowStock().catch(() => ({\n          data: []\n        }))]);\n        const lowStock = Array.isArray(lowStockRes.data) ? lowStockRes.data.length : (_lowStockRes$data$cou = (_lowStockRes$data = lowStockRes.data) === null || _lowStockRes$data === void 0 ? void 0 : _lowStockRes$data.count) !== null && _lowStockRes$data$cou !== void 0 ? _lowStockRes$data$cou : 0;\n        const scoped = computeScopedStats(projectsRes.data, tasksRes.data, user);\n        setStats(prev => ({\n          ...prev,\n          ...scoped,\n          low_stock_items: lowStock\n        }));\n      } else {\n        var _lowStockRes$data$cou2, _lowStockRes$data2;\n        const response = await axios.get(`${API_BASE_URL}/dashboard/stats`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const lowStockRes = await inventoryAPI.getLowStock().catch(() => ({\n          data: []\n        }));\n        const lowStock = Array.isArray(lowStockRes.data) ? lowStockRes.data.length : (_lowStockRes$data$cou2 = (_lowStockRes$data2 = lowStockRes.data) === null || _lowStockRes$data2 === void 0 ? void 0 : _lowStockRes$data2.count) !== null && _lowStockRes$data$cou2 !== void 0 ? _lowStockRes$data$cou2 : 0;\n        setStats({\n          ...response.data,\n          low_stock_items: lowStock\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n      setStats({\n        total_projects: 0,\n        total_tasks: 0,\n        completed_tasks: 0,\n        low_stock_items: 0\n      });\n    }\n  }, [navigate, user]);\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: '#1e3a5f',\n        marginBottom: '2rem'\n      },\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n        gap: '1.5rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          padding: '1.5rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#666',\n            fontSize: '0.875rem',\n            marginBottom: '0.5rem'\n          },\n          children: \"Total Projects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '2rem',\n            fontWeight: 'bold',\n            color: '#1e3a5f'\n          },\n          children: stats.total_projects || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          padding: '1.5rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#666',\n            fontSize: '0.875rem',\n            marginBottom: '0.5rem'\n          },\n          children: \"Pending Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '2rem',\n            fontWeight: 'bold',\n            color: '#ff8c42'\n          },\n          children: stats.total_tasks || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          padding: '1.5rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#666',\n            fontSize: '0.875rem',\n            marginBottom: '0.5rem'\n          },\n          children: \"Completed Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '2rem',\n            fontWeight: 'bold',\n            color: '#28a745'\n          },\n          children: stats.completed_tasks || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          padding: '1.5rem',\n          borderRadius: '10px',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#666',\n            fontSize: '0.875rem',\n            marginBottom: '0.5rem'\n          },\n          children: \"Low Stock Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '2rem',\n            fontWeight: 'bold',\n            color: '#dc3545'\n          },\n          children: stats.low_stock_items || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"4BDxGVESw0XmDjKlfekAoGasHtA=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","axios","projectsAPI","tasksAPI","inventoryAPI","jsxDEV","_jsxDEV","API_BASE_URL","Dashboard","_s","navigate","stats","setStats","user","JSON","parse","localStorage","getItem","computeScopedStats","allProjects","allTasks","total_projects","total_tasks","completed_tasks","uid","user_id","role","assignedList","p","raw","Array","isArray","assigned_users","assigned_user_ids","map","x","n","parseInt","Number","isNaN","filter","v","projectIds","includes","project_id","created_by","tasksInScope","t","myTasks","assigned_to","completed","String","status","toLowerCase","length","pending","totalProjects","from","Set","token","replace","fetchStats","_lowStockRes$data$cou","_lowStockRes$data","projectsRes","tasksRes","lowStockRes","Promise","all","getAll","getLowStock","catch","data","lowStock","count","scoped","prev","low_stock_items","_lowStockRes$data$cou2","_lowStockRes$data2","response","get","headers","Authorization","error","console","style","padding","children","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","gridTemplateColumns","gap","background","borderRadius","boxShadow","fontSize","fontWeight","_c","$RefreshReg$"],"sources":["/Users/ilhem/Documents/INEW 2332 Comprehensive Software Project/marine-retrofit/frontend/src/components/dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { projectsAPI, tasksAPI, inventoryAPI } from '../api';\n\nconst API_BASE_URL = 'http://localhost:8000/api';\n\nfunction Dashboard() {\n  const navigate = useNavigate();\n  const [stats, setStats] = useState({});\n\n  const user = (() => { try { return JSON.parse(localStorage.getItem('user')); } catch { return null; } })();\n\n  const computeScopedStats = (allProjects, allTasks, user) => {\n    if (!user) return { total_projects: 0, total_tasks: 0, completed_tasks: 0 };\n\n    const uid = user.user_id;\n    const role = user.role;\n\n    const assignedList = (p) => {\n      // Normalize to an array of numeric user_ids\n      const raw = Array.isArray(p.assigned_users) ? p.assigned_users\n                : (Array.isArray(p.assigned_user_ids) ? p.assigned_user_ids : []);\n      return raw.map(x => {\n        if (typeof x === 'number') return x;\n        if (typeof x === 'string') {\n          const n = parseInt(x, 10);\n          return Number.isNaN(n) ? x : n;\n        }\n        // object form { user_id, ... }\n        if (x && typeof x === 'object' && 'user_id' in x) return x.user_id;\n        return x;\n      }).filter(v => typeof v === 'number');\n    };\n\n    let projectIds = [];\n    if (role === 'technician' || role === 'engineer') {\n      projectIds = (allProjects || [])\n        .filter(p => assignedList(p).includes(uid))\n        .map(p => p.project_id);\n    } else if (role === 'project_manager') {\n      projectIds = (allProjects || [])\n        .filter(p => p.created_by === uid)\n        .map(p => p.project_id);\n    } else {\n      // admin sees all\n      projectIds = (allProjects || []).map(p => p.project_id);\n    }\n\n    const tasksInScope = (allTasks || []).filter(t => projectIds.includes(t.project_id));\n\n    let myTasks = tasksInScope;\n    if (role === 'technician' || role === 'engineer') {\n      myTasks = tasksInScope.filter(t => t.assigned_to === uid);\n    }\n\n    const completed = myTasks.filter(t => String(t.status || '').toLowerCase() === 'completed').length;\n    const pending = myTasks.filter(t => String(t.status || '').toLowerCase() !== 'completed').length;\n    const totalProjects = Array.from(new Set(projectIds)).length;\n\n    return { total_projects: totalProjects, total_tasks: pending, completed_tasks: completed };\n  };\n\n  \n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login', { replace: true });\n    }\n  }, [navigate]);\n\n  const fetchStats = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) { navigate('/login', { replace: true }); return; }\n\n      if (user && (user.role === 'technician' || user.role === 'engineer' || user.role === 'project_manager')) {\n        const [projectsRes, tasksRes, lowStockRes] = await Promise.all([\n          projectsAPI.getAll(),\n          tasksAPI.getAll(),\n          inventoryAPI.getLowStock().catch(() => ({ data: [] }))\n        ]);\n        const lowStock = Array.isArray(lowStockRes.data) ? lowStockRes.data.length : (lowStockRes.data?.count ?? 0);\n        const scoped = computeScopedStats(projectsRes.data, tasksRes.data, user);\n        setStats(prev => ({ ...prev, ...scoped, low_stock_items: lowStock }));\n      } else {\n        const response = await axios.get(`${API_BASE_URL}/dashboard/stats`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        const lowStockRes = await inventoryAPI.getLowStock().catch(() => ({ data: [] }));\n        const lowStock = Array.isArray(lowStockRes.data) ? lowStockRes.data.length : (lowStockRes.data?.count ?? 0);\n        setStats({ ...response.data, low_stock_items: lowStock });\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n      setStats({ total_projects: 0, total_tasks: 0, completed_tasks: 0, low_stock_items: 0 });\n    }\n  }, [navigate, user]);\n\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n\n    \n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <h1 style={{ color: '#1e3a5f', marginBottom: '2rem' }}>Dashboard</h1>\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1.5rem' }}>\n        <div style={{ background: 'white', padding: '1.5rem', borderRadius: '10px', boxShadow: '0 2px 10px rgba(0,0,0,0.1)' }}>\n          <h3 style={{ color: '#666', fontSize: '0.875rem', marginBottom: '0.5rem' }}>Total Projects</h3>\n          <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#1e3a5f' }}>{stats.total_projects || 0}</p>\n        </div>\n        <div style={{ background: 'white', padding: '1.5rem', borderRadius: '10px', boxShadow: '0 2px 10px rgba(0,0,0,0.1)' }}>\n          <h3 style={{ color: '#666', fontSize: '0.875rem', marginBottom: '0.5rem' }}>Pending Tasks</h3>\n          <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#ff8c42' }}>\n            {stats.total_tasks || 0}\n          </p>\n        </div>\n        <div style={{ background: 'white', padding: '1.5rem', borderRadius: '10px', boxShadow: '0 2px 10px rgba(0,0,0,0.1)' }}>\n          <h3 style={{ color: '#666', fontSize: '0.875rem', marginBottom: '0.5rem' }}>Completed Tasks</h3>\n          <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#28a745' }}>{stats.completed_tasks || 0}</p>\n        </div>\n        <div style={{ background: 'white', padding: '1.5rem', borderRadius: '10px', boxShadow: '0 2px 10px rgba(0,0,0,0.1)' }}>\n          <h3 style={{ color: '#666', fontSize: '0.875rem', marginBottom: '0.5rem' }}>Low Stock Items</h3>\n          <p style={{ fontSize: '2rem', fontWeight: 'bold', color: '#dc3545' }}>{stats.low_stock_items || 0}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}